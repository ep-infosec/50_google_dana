<!--
/*
 * Copyright 2017 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->

<!DOCTYPE html>
<html lang="en">

	<head>
		<% include ../common/head %>
	</head>

	<body>
		<% include ../common/navbar %>

		<%
		var guest=true;
		if (user!==undefined) {
			if (user.username=='admin') {
				guest=false;
			}
		}
		var k = Object.keys(globalBot.tasks);
		ttasks = [];
		for (var ii=0; ii<k.length; ii++) {
			ttasks.push(k[ii]);
		}
		%>
		<script>
			var ttasks = <%=ttasks%>;
		</script>
		<div class="container" id="formulaire">
			<div class="row">
				<div class="col-md-12">
					<br>
					<br>
					<center>
						<h1>Add a new task to the queue</h1>
					</center>
					<br>
				</div>
				<div class="col-md-offset-4 col-md-4">
					<form action="/bot/addToQueue" method="post">
						<div class="form-group">
							<label>Task name</label>
							<select class="form-control" name="taskName">
								<%	for (var ii=0; ii<ttasks.length; ii++) { %>
									<option selected><%=ttasks[ii]%></option>
								<%  } %>
							</select>
						</div>
						<div class="form-group">
							<label>HashId</label>
							<input type="text" class="form-control" name="hashId"/>
						</div>
						<center>
							<br>
							<button class="btn btn-danger btn-block" type="submit" id="submitButton">Add To Queue</button>
						</center>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
